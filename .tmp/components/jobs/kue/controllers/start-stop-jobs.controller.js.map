{"version":3,"sources":["components/jobs/kue/controllers/start-stop-jobs.controller.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;AACV;;AAEA,UACG,MADH,CACU,SADV,EAEG,UAFH,CAEc,yBAFd,EAEyC,uBAFzC;;AAIA,0BAAwB,OAAxB,GAAkC,CAAC,WAAD,EAAc,aAAd,CAAlC;;AAEA,WAAS,uBAAT,CAAiC,SAAjC,EAA4C,WAA5C,EAAyD;AACvD,QAAI,KAAK,IAAT;AACA,OAAG,mBAAH,GAAyB,IAAzB;AACA,OAAG,eAAH,GAAqB,eAArB;AACA,OAAG,YAAH,GAAkB,YAAlB;;AAEA;;AAEA,aAAS,QAAT,GAAoB;AAClB,kBAAY,QAAZ,GAAuB,IAAvB,CAA4B,UAAS,KAAT,EAAgB;AAC1C,WAAG,QAAH,GAAc,KAAd;AACD,OAFD;;AAIA,kBAAY,mBAAZ,GAAkC,IAAlC,CAAuC,UAAS,SAAT,EAAoB;AACzD,WAAG,mBAAH,GAAyB,SAAzB;AACD,OAFD;AAGD;;AAED,aAAS,eAAT,GAA2B;AACzB;AACA,UAAI,iBAAiB,UAAU,IAAV,CAAe;AAClC,qBAAa,8DADqB;AAElC,oBAAY,8BAFsB;AAGlC,sBAAc,wBAHoB;AAIlC,iBAAS;AACP,4BAAkB,4BAAY;AAC5B,mBAAO,4CAAP;AACD;AAHM;AAJyB,OAAf,CAArB;;AAWA,qBAAe,MAAf,CAAsB,IAAtB,CAA2B,UAAU,MAAV,EAAkB;AAC3C,YAAI,MAAJ,EAAY;AACV,sBAAY,WAAZ,GAA0B,IAA1B,CAA+B,YAAW;AACxC,eAAG,mBAAH,GAAyB,KAAzB;AACD,WAFD,EAEG,YAAW;AACZ,eAAG,mBAAH,GAAyB,IAAzB;AACD,WAJD;AAKD;AACF,OARD;AASD;;AAED,aAAS,YAAT,GAAwB;AACtB,kBAAY,YAAZ,GAA2B,IAA3B,CAAgC,YAAW;AACzC,WAAG,mBAAH,GAAyB,IAAzB;AACD,OAFD,EAEG,YAAW;AACZ,WAAG,mBAAH,GAAyB,KAAzB;AACD,OAJD;AAKD;AACF;AACF,CA3DD","file":"components/jobs/kue/controllers/start-stop-jobs.controller.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('kueJobs')\n    .controller('StartStopJobsController', StartStopJobsController);\n\n  StartStopJobsController.$inject = ['$uibModal', 'JobsManager'];\n\n  function StartStopJobsController($uibModal, JobsManager) {\n    var vm = this;\n    vm.jobProcessingStatus = true;\n    vm.shutDownAllJobs = shutDownAllJobs;\n    vm.startAllJobs = startAllJobs;\n\n    activate();\n\n    function activate() {\n      JobsManager.getTypes().then(function(types) {\n        vm.jobTypes = types;\n      });\n\n      JobsManager.isJobProcessRunning().then(function(isRunning) {\n        vm.jobProcessingStatus = isRunning;\n      });\n    }\n\n    function shutDownAllJobs() {\n      // vm.jobProcessingStatus = !vm.jobProcessingStatus;\n      var dialogInstance = $uibModal.open({\n        templateUrl: 'components/confirmation-dialog/confirmation-dialog.view.html',\n        controller: 'ConfirmationDialogController',\n        controllerAs: 'confirmationDialogCtrl',\n        resolve: {\n          confirmationText: function () {\n            return 'This will stop all the jobs. Are you sure?';\n          }\n        }\n      });\n\n      dialogInstance.result.then(function (accept) {\n        if (accept) {\n          JobsManager.stopAllJobs().then(function() {\n            vm.jobProcessingStatus = false;\n          }, function() {\n            vm.jobProcessingStatus = true;\n          });\n        }\n      });\n    }\n\n    function startAllJobs() {\n      JobsManager.startAllJobs().then(function() {\n        vm.jobProcessingStatus = true;\n      }, function() {\n        vm.jobProcessingStatus = false;\n      });\n    }\n  }\n})();\n"],"sourceRoot":"/source/"}